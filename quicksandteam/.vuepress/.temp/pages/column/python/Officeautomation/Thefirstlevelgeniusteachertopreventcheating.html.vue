<template><div><p>你好，我是悦创。</p>
<h2 id="_1-3-知识结构" tabindex="-1"><a class="header-anchor" href="#_1-3-知识结构" aria-hidden="true">#</a> 1.3 知识结构</h2>
<ul>
<li>需求描述</li>
<li>试卷生成（提取 provinces 和 options、创建试卷、创建答案）</li>
<li>生成答案迥异（jiǒng yì）的试卷</li>
</ul>
<h1 id="_2-需求描述" tabindex="-1"><a class="header-anchor" href="#_2-需求描述" aria-hidden="true">#</a> 2. 需求描述</h1>
<p>小悦在日常的工作中，遇到过这样的需求：<strong>考察学员或者公司新员工的技术能力。</strong></p>
<p><strong>出一份考题让被考察者完成是一个最常用的方法。</strong></p>
<p>在本文中，请你跟着老师一起，用 Python 自动化地生成一份简单的地理试卷。这份试卷由 34 道选择题组成，题目形式都类似如下：</p>
<ol>
<li>河北省的省会是哪里？</li>
</ol>
<p>A. 北京
B. 郑州
C. 石家庄
D. 张家口</p>
<h2 id="_2-1-试卷生成" tabindex="-1"><a class="header-anchor" href="#_2-1-试卷生成" aria-hidden="true">#</a> 2.1 试卷生成</h2>
<p><img src="https://gitee.com/huangjiabaoaiyc/image/raw/master/202110300054343.png" alt="image.png">
试卷生成的工具以一个省与省会名的对应字典作为输入：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code>capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span> <span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span> <span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span> <span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span> <span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span> <span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span> <span class="token string">'济南'</span><span class="token punctuation">,</span>
            <span class="token string">'河南省'</span><span class="token punctuation">:</span> <span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span> <span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span> <span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span> <span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span> <span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span> <span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span> <span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span> <span class="token string">'南昌'</span><span class="token punctuation">,</span>
            <span class="token string">'福建省'</span><span class="token punctuation">:</span> <span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span> <span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span> <span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span> <span class="token string">'成都'</span><span class="token punctuation">,</span>
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span> <span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span> <span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span> <span class="token string">'海口'</span><span class="token punctuation">,</span>
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span> <span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span> <span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span> <span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span> <span class="token string">'呼和浩特'</span><span class="token punctuation">,</span>
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span> <span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span> <span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span> <span class="token string">'南宁'</span><span class="token punctuation">,</span>
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span> <span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'澳门'</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们要完成的这个工具需要做三件事情：</p>
<ol>
<li>抽取出 capitals 中的省名（key），组成一个列表 provinces。</li>
<li>为每个 provinces 中的元素生成对应的题目选项，放置到列表 options 中。选项由城市名组成，其中有一个选项是正确答案，另外三个从其它城市中随机抽取。</li>
<li>根据第1、2 步生成的 provinces 和 options，生成试卷以及试卷结果并保存到文件。</li>
</ol>
<p><strong>也许只用语言描述有些抽象，我们用一张表来展视要构建的 provinces 和 options。</strong></p>
<table>
<thead>
<tr>
<th>元素索引</th>
<th>provinces</th>
<th>options</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>北京市</td>
<td>[拉萨,北京,海口,西宁]</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>n</td>
<td>河北省</td>
<td>[石家庄,银川, 贵阳, 哈尔滨]</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<ul>
<li>provinces 是一个一维列表，每个元素是一个省的名字</li>
<li>options 是一个二维列表，列表中的每个元素也是列表，由四个城市名组成，其中有一个城市是 provinces 中对应省的省会。</li>
</ul>
<p>这样的两个列表一旦构建出来，生成试卷就会变得很简单，只需要从 0 到 33 遍历两个列表中的每个元素，分别取出省份名字以及城市选项名字，省份名字用在题面上，而城市选项用在选项上，就能正确输出结果了。</p>
<p><img src="https://gitee.com/huangjiabaoaiyc/image/raw/master/202110300050558.gif" alt="c43ea65545f7973c743fe8fea45e4296.gif"></p>
<p>我们按照这个思路，分两步构建试卷。</p>
<h2 id="_2-2-提取-provinces-和-options" tabindex="-1"><a class="header-anchor" href="#_2-2-提取-provinces-和-options" aria-hidden="true">#</a> 2.2 提取 provinces 和 options</h2>
<p>capitals 这个字典中，所有元素的 key 就是我们想要的省份名字，我们可以将它们提取出来，放到列表 provinces 中。</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code>capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span> <span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span> <span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span> <span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span> <span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span> <span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span> <span class="token string">'济南'</span><span class="token punctuation">,</span>
            <span class="token string">'河南省'</span><span class="token punctuation">:</span> <span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span> <span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span> <span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span> <span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span> <span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span> <span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span> <span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span> <span class="token string">'南昌'</span><span class="token punctuation">,</span>
            <span class="token string">'福建省'</span><span class="token punctuation">:</span> <span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span> <span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span> <span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span> <span class="token string">'成都'</span><span class="token punctuation">,</span>
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span> <span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span> <span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span> <span class="token string">'海口'</span><span class="token punctuation">,</span>
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span> <span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span> <span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span> <span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span> <span class="token string">'呼和浩特'</span><span class="token punctuation">,</span>
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span> <span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span> <span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span> <span class="token string">'南宁'</span><span class="token punctuation">,</span>
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span> <span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'澳门'</span><span class="token punctuation">}</span>

<span class="token comment"># 提取 capitals 变量中所有元素的 key 值，组成新的列表变量 provinces</span>
provinces <span class="token operator">=</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary>想想怎么写，先自己写一下，然后点开看看，我提供的代码！</summary>
<p>看下老师的方法：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code>provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></details>
<p>接下来，为每道题生成答案。像之前构想的那样，用二维列表变量 <code v-pre>options</code> 存储答案选项，<code v-pre>options </code> 的每个元素，是由一道题中4个备选项组成的列表。</p>
<p>对于每道题目的选项构建，是这个项目最困难的环节，跟着老师思路，我们一步步捋：</p>
<ol>
<li>
<p>对于某个确定的省份，从 <code v-pre>capitals</code> 中获取这个省份对应的正确省会名字，把它存储到变量 <code v-pre>right_answer</code> 中。</p>
</li>
<li>
<p>从 <code v-pre>capitals</code> 中，获取所有城市的名字，然后将其中是正确答案的那个剔除掉，剩下一个全部由错误省会名字组成的变量 <code v-pre>wrong_answer</code> 。下面动画表现的是当正确答案是<strong>昆明</strong>时的情形。</p>
</li>
</ol>
<p><img src="https://gitee.com/huangjiabaoaiyc/image/raw/master/202110301803522.gif" alt=""></p>
<ol start="3">
<li>从<code v-pre>wrong_answer</code>中随机挑选出3个名字，与第一步生成的<code v-pre>right_answer</code>一同组成由4个元素组成的选项。</li>
</ol>
<details class="custom-container details"><summary>在给你正式代码前，我给你补充点知识点：</summary>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code>In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">from</span> faker <span class="token keyword">import</span> Faker

In <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span> faker <span class="token operator">=</span> Faker<span class="token punctuation">(</span><span class="token punctuation">)</span>

In <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span> name_lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

In <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>     name_lst<span class="token punctuation">.</span>append<span class="token punctuation">(</span>faker<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">:</span>

In <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span> name_lst
Out<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
<span class="token punctuation">[</span><span class="token string">'Jonathan Kemp'</span><span class="token punctuation">,</span>
 <span class="token string">'Shannon Moore'</span><span class="token punctuation">,</span>
 <span class="token string">'Desiree Vaughan'</span><span class="token punctuation">,</span>
 <span class="token string">'Christina Allen'</span><span class="token punctuation">,</span>
 <span class="token string">'Jamie Petty'</span><span class="token punctuation">,</span>
 <span class="token string">'Bonnie Green'</span><span class="token punctuation">,</span>
 <span class="token string">'Mrs. Kristina Hamilton'</span><span class="token punctuation">,</span>
 <span class="token string">'Lisa Harris'</span><span class="token punctuation">,</span>
 <span class="token string">'Richard Hicks'</span><span class="token punctuation">,</span>
 <span class="token string">'Natalie Long'</span><span class="token punctuation">]</span>

In <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">import</span> random

In <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">:</span> r <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>name_lst<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

In <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> r
Out<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Shannon Moore'</span><span class="token punctuation">,</span> <span class="token string">'Christina Allen'</span><span class="token punctuation">,</span> <span class="token string">'Jonathan Kemp'</span><span class="token punctuation">]</span>

In <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">:</span> r <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>name_lst<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

In <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">:</span> r
Out<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Lisa Harris'</span><span class="token punctuation">,</span> <span class="token string">'Mrs. Kristina Hamilton'</span><span class="token punctuation">,</span> <span class="token string">'Desiree Vaughan'</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<p>将以上需求翻译成代码实现，如以下这样：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment"># generate_options 函数，根据输入的省份编号 index，生成对应的答案选项。</span>
	<span class="token comment"># 1. 从 capitals 中获取 index 这个编号对应的省份的省会名字，存到 right_answer 变量中。</span>
	right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>
	<span class="token comment"># 2. 从 capitals 中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
	<span class="token comment"># 存到变量 wrong_answer 中。</span>
	wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
	<span class="token comment"># 3. 从 wrong_answer 中随机挑选 3 个名字，并与 right_answer 一同组成由4个元素组成的选项</span>
	wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
	current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer
	<span class="token comment"># 将选项中元素的顺序打乱</span>
	random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>
	<span class="token comment"># 用列表结构返回第 index 个省的答案选项</span>
	<span class="token keyword">return</span> current_options
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>老师将以上所述3个步骤封装到了函数 <code v-pre>generate_options()</code> 中。这个函数接收传入参数 <code v-pre>index</code> ，用于指定要生成备选项的省份编号。</p>
<p>在第1步中，使用 <code v-pre>provinces[index]</code> 即获取了 <code v-pre>index</code> 对应的省的名字。然后，将这个名字作为 <code v-pre>capitals</code> 字典的 key，读取 <code v-pre>capitals[provinces[index]]</code> 就得到省会城市名，将它赋值给 <code v-pre>right_answer</code>。</p>
<p>在第2步中，使用 <code v-pre>capitals.values()</code> 读取 <code v-pre>capitals</code> 的所有城市名，再将它转成列表类型，赋值给 <code v-pre>wrong_answer</code> 变量。</p>
<p>这时，<code v-pre>wrong_answer </code>中还包含了正确选项，因此再使用 <code v-pre>del wrong_answer[index]</code> 将 <code v-pre>woring_answer</code> 中的正确答案城市名剔除掉。</p>
<p>第3步，老师使用了 Python 的 <strong>random</strong> 模块的两个重要功能： <code v-pre>sample()</code> 和 <code v-pre>shuffle()</code> 。</p>
<p><code v-pre>sample() </code> 可以实现从一个候选集中随机挑选指定数量元素的功能。传入它的第一个参数是待挑选的集合变量，第二个参数是个数字，表示要挑选的元素数量。因此，代码使用 <code v-pre>random.sample(wrong_answer, 3)</code> 从 <code v-pre>woring_answer</code> 中随机挑选了三个城市。</p>
<p>而 <code v-pre>shuffle()</code> 就如它的单词意思所描述，是个<strong>混洗</strong>函数，可以将传入的数据集合里的元素顺序打乱。将 <code v-pre>right_answer</code> 跟 <code v-pre>wrong_answer</code> 拼成 <code v-pre>current_options</code> 之后，使用 <code v-pre>random.shuffle(current_options)</code> 就实现了将 <code v-pre>current_options</code> 中的答案顺序进行混洗的目的。</p>
<p>函数最后将 <code v-pre>current_options</code> 作为返回结果，使得调用者可以通过函数的返回列表获取到传入的 <code v-pre>index</code> 所对应的答案选项。这个选项中的错误答案，是随机从城市里挑选的，并且答案顺序经过了混洗。</p>
<p>借助这个定义好的 <code v-pre>generate_options()</code> 函数，我们就可以构建 <code v-pre>options</code> 了，请在下面代码块中，尝试补全 <strong>TODO</strong> 部分的逻辑，生成我们在前面构想中希望创建的 <code v-pre>options</code> 列表：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span> <span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span> <span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span> <span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span> <span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span> <span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span> <span class="token string">'济南'</span><span class="token punctuation">,</span>
            <span class="token string">'河南省'</span><span class="token punctuation">:</span> <span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span> <span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span> <span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span> <span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span> <span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span> <span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span> <span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span> <span class="token string">'南昌'</span><span class="token punctuation">,</span>
            <span class="token string">'福建省'</span><span class="token punctuation">:</span> <span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span> <span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span> <span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span> <span class="token string">'成都'</span><span class="token punctuation">,</span>
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span> <span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span> <span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span> <span class="token string">'海口'</span><span class="token punctuation">,</span>
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span> <span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span> <span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span> <span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span> <span class="token string">'呼和浩特'</span><span class="token punctuation">,</span>
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span> <span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span> <span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span> <span class="token string">'南宁'</span><span class="token punctuation">,</span>
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span> <span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

	<span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
	right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

	<span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
	<span class="token comment"># 存到变量wrong_answer中。</span>
	wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

	<span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
	wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
	current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

	<span class="token comment"># 将选项打乱</span>
	random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

	<span class="token comment"># 用列表结构返回第index个省的答案选项</span>
	<span class="token keyword">return</span> current_options


options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment"># TODO，根据编号i，创建每道题的选项，并把选项列表添加到options中</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary>是否填写出来了？看下老师的参考答案，你可以把它拷贝到代码中看下执行结果：</summary>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment"># TODO，根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
	option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<p>通过调用 <code v-pre>generate_options(i)</code> 函数，我们计算出编号 i 所对应省份的题目选项。然后，使用 = 将结果赋值给变量 option。</p>
<p>再将 option 通过 <code v-pre>options.append()</code> 方法追加到 options 列表。在 for 循环遍历完所有的索引之后，就形成了最终的选项列表。</p>
<p>有了 provinces 和 options，我们的工作已经完成了大半，按一开始展示的 provinces 和 options 元素对照表的格式，我们通过代码打印一下这张表的值，看下效果是否是我们所预期的：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span> <span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span> <span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span> <span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span> <span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span> <span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span> <span class="token string">'济南'</span><span class="token punctuation">,</span>
            <span class="token string">'河南省'</span><span class="token punctuation">:</span> <span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span> <span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span> <span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span> <span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span> <span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span> <span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span> <span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span> <span class="token string">'南昌'</span><span class="token punctuation">,</span>
            <span class="token string">'福建省'</span><span class="token punctuation">:</span> <span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span> <span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span> <span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span> <span class="token string">'成都'</span><span class="token punctuation">,</span>
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span> <span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span> <span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span> <span class="token string">'海口'</span><span class="token punctuation">,</span>
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span> <span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span> <span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span> <span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span> <span class="token string">'呼和浩特'</span><span class="token punctuation">,</span>
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span> <span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span> <span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span> <span class="token string">'南宁'</span><span class="token punctuation">,</span>
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span> <span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span> <span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

	<span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
	right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

	<span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
	<span class="token comment"># 存到变量wrong_answer中。</span>
	wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

	<span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
	wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
	current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

	<span class="token comment"># 将选项打乱</span>
	random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

	<span class="token comment"># 用列表结构返回第index个省的答案选项</span>
	<span class="token keyword">return</span> current_options


options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
	option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>老师在上面代码段的最后，通过：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>遍历输出了 provinces 跟 options 中的每个元素，可以直观地看到两个列表元素的对应情况。</p>
<p>接下来，我们就可以通过读取 provinces 和 options 中的元素内容，完成试卷的构建了。</p>
<h2 id="_2-3-创建试卷" tabindex="-1"><a class="header-anchor" href="#_2-3-创建试卷" aria-hidden="true">#</a> 2.3 创建试卷</h2>
<p>再回顾下我们要生成的题目样式：</p>
<ol>
<li>河北省的省会是哪里？</li>
</ol>
<p>A. 北京
B. 郑州
C. 石家庄
D. 张家口</p>
<p>题干的内容，其实就是由 provinces 中提取的省份名字加上固定的<code v-pre>'的省会是哪里？'</code>字符串内容组成的。另外，问题前面会加上个数字编号和英文的点。</p>
<p>选项的内容，就是从 options 中提取的每个列表元素，不过在生成答案时，需要对这个选项列表再进行一下遍历，在每个选项前面按顺序加上字母 A、B、C、D。</p>
<p>请你补全下面代码中的 TODO 部分逻辑，按以上格式打印出每一道题目内容：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
    option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># TODO，按格式打印题目及选项</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::看下老师的答案：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># TODO，按格式打印题目及选项</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}. {}的省会是哪里？'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}. {}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::</p>
<p>在 <code v-pre>for i in range(len(options))</code> 的每个循环过程中，打印每道题目。使用 <code v-pre>i+1</code> 和 <code v-pre>provinces[i]</code> 分别填充到格式字符串 <code v-pre>'{}. {}的省会是哪里？'</code> 的两个花括号中，就按照循环中的 <code v-pre>i</code>值正确填入了编号及省份的名字。</p>
<p>在这之后，再使用内部循环 <code v-pre>for j in range(4):</code> 打印每一个选项内容。</p>
<p>由于 j 是从 0 到 3 的整数值，通过 <code v-pre>'ABCD'[j]</code> 这样的方式就能分别取到字符串 <code v-pre>'ABCD'</code> 的每个元素，就是 <code v-pre>'A'、'B'、'C'、'D'</code>。它们分别作为选项的编号。</p>
<p>而 <code v-pre>options[i][j]</code> 则是取出 options 这个二维列表中，第 i 个子列表中的第 j 个选项，这便是题目中候选城市的名字。</p>
<p>既然是生成试卷，光打印在输出终端中是不够的，我们需要生成一个文件。</p>
<p>现在你来试试，将上面代码中的打印到输出终端的逻辑，修改成写文件，生成一个完整的试题文件。</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
    option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

<span class="token comment"># TODO，生成试卷，写到文件./试卷.txt 中</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下是老师的答案，执行之后，你可以直接通过下载按钮获取生成的试卷文件哦。</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
    option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

<span class="token comment"># TODO，生成试卷，写到文件./tmp/试卷.txt中</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./试卷.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}的省会是哪里？\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>老师使用了 Python 中最普通的文件写操作，通过 <code v-pre>with open('./试卷.txt', 'w') as f</code> 打开文件之后，将原来逻辑中的 <code v-pre>print()</code> 都更换成 <code v-pre>f.write()</code>，实现向当前目录中 <code v-pre>试卷.txt</code> 文件写入内容的功能。</p>
<p>在实现中还需要多注意的一点是，<code v-pre>print()</code> 方法默认会在每一行末尾打印一个换行，而文件的 <code v-pre>write()</code> 方法不会，因此在调用 <code v-pre>write()</code> 时，传入的字符串末尾都加上了 <code v-pre>'\n'</code> 用来实现输出换行的目的。</p>
<h2 id="_2-4-创建答案" tabindex="-1"><a class="header-anchor" href="#_2-4-创建答案" aria-hidden="true">#</a> 2.4 创建答案</h2>
<p>有了试卷之后，我们期望再生成一份答案文件，以方便批阅的时候使用。</p>
<p>答案的格式类似以下就足够了：</p>
<p><img src="https://gitee.com/huangjiabaoaiyc/image/raw/master/202112091010348.png" alt="image.png"></p>
<p>这个工作相对于生成试卷来说要简单很多，老师给你提供一个思路：</p>
<ol>
<li>从 capitals 中确定当前编号所对应的省的省会城市。</li>
<li>确定这个省会城市在题目选项 options 中的索引编号。</li>
<li>通过第 2 步中索引编号取出 <code v-pre>'ABCD'</code> 中的字母，即是答案选项。</li>
</ol>
<p>你来试试吧：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
    option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

<span class="token comment"># 生成试卷，写到文件./tmp/试卷.txt中</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./tmp/试卷.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}的省会是哪里？\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
        
<span class="token comment"># TODO，生成答案，写到文件./tmp/答案.txt中</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::参考一下老师的答案：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
    option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

<span class="token comment"># 生成试卷，写到文件./tmp/试卷.txt中</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./tmp/试卷.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}的省会是哪里？\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
        
<span class="token comment"># TODO，生成答案，写到文件./答案.txt中</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./答案.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{} '</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span>capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::</p>
<p>关键代码就一行：<code v-pre>f.write('{} '.format('ABCD'[options[i].index(capitals[provinces[i]])]))</code>，但值得仔细再说明一下。</p>
<p>这行代码的三部分分别做了前面所说的三件事情：</p>
<p>1、从 capitals 中确定当前编号所对应省的省会城市：<code v-pre>capitals[provinces[i]]</code>。
2、确定这个省会城市在题目选项 options 中的索引编号：<code v-pre>options[i].index(capitals[provinces[i]])</code>。这里调用了列表 <code v-pre>options[i]</code> 的 index 方法，就直接能得到城市 <code v-pre>capitals[provinces[i]]</code> 在这个列表里的索引。
3、在第 2 步已经获取了正确选项在备选答案中的编号之后，通过 <code v-pre>'ABCD'[第2步的结果]</code> 就得到了正确选项对应的字母。</p>
<p>如果觉得一行代码过于费解，可以按照我们的实现思路拆解成如下三行：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code>capital <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
option <span class="token operator">=</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span>capital<span class="token punctuation">)</span>
f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{} '</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>option<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>好了，看起来大功告成。但作为一个狡猾的天才老师，小象君觉得，为一个班里30位同学生成这同样的一份试卷进行测验，在防作弊上还差点意思。</p>
<p>所以，我们希望生成 30 分答案顺序完全不同的试卷，让作弊无用武之地。</p>
<h1 id="_3-生成答案迥异的试卷" tabindex="-1"><a class="header-anchor" href="#_3-生成答案迥异的试卷" aria-hidden="true">#</a> 3. 生成答案迥异的试卷</h1>
<p>我们在定义试卷生成逻辑的时候，使用的 <code v-pre>generate_options()</code> 函数在每次生成答案选项时，都是随机抽取的备选答案，同时，也使用了 <code v-pre>random.shuffle()</code> 函数打乱答案选项的顺序。</p>
<p>在每次生成试卷时，试题顺序相同，但答案选项是不相同的。</p>
<p>因此，我们想要生成 30 份答案不同的试卷，只要按上面的方式循环生成 30 遍，每次将试卷和答案存储到不同的文件里就可以了。</p>
<p>为了更顺畅的构建循环生成试卷的逻辑，我们先对以上代码做些整理，将每轮生成试卷和答案文件的代码整理成一个独立的函数。</p>
<h2 id="_3-1-试卷生成逻辑整理为函数" tabindex="-1"><a class="header-anchor" href="#_3-1-试卷生成逻辑整理为函数" aria-hidden="true">#</a> 3.1 试卷生成逻辑整理为函数</h2>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

<span class="token keyword">def</span> <span class="token function">generate_paper</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
        option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

    <span class="token comment"># 生成试卷，写到文件./tmp/试卷_index.txt中</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./tmp/试卷_{}.txt'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}的省会是哪里？\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>

    <span class="token comment"># 生成答案，写到文件./tmp/答案_index.txt中</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./tmp/答案_{}.txt'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{} '</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span>capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

generate_paper<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的代码中，老师将生成试卷的操作整理到了函数 <code v-pre>generate_paper()</code> 中，函数接受一个参数index，用作试卷的编号。</p>
<p>在生成试题和答案文件的时候，会在文件名后加上 <code v-pre>_index</code> 区分不同的试卷以及答案。</p>
<p>比如在代码的最后一句，调用 <code v-pre>generate_paper(0)</code>，便生成了试卷 <code v-pre>_0.txt</code> 和答案 <code v-pre>_0.txt</code> 两个文件。</p>
<p>接下来，请你在以下代码的 TODO 后补全逻辑，分别为 30 名学生准备答案选项完全不同的 30 份试卷。</p>
<h2 id="_3-2-生成-30-份试卷" tabindex="-1"><a class="header-anchor" href="#_3-2-生成-30-份试卷" aria-hidden="true">#</a> 3.2 生成 30 份试卷</h2>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token keyword">import</span> random

capitals <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'北京市'</span><span class="token punctuation">:</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'天津市'</span><span class="token punctuation">:</span><span class="token string">'天津'</span><span class="token punctuation">,</span> <span class="token string">'上海市'</span><span class="token punctuation">:</span><span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'重庆市'</span><span class="token punctuation">:</span><span class="token string">'重庆'</span><span class="token punctuation">,</span>
            <span class="token string">'河北省'</span><span class="token punctuation">:</span><span class="token string">'石家庄'</span><span class="token punctuation">,</span> <span class="token string">'山西省'</span><span class="token punctuation">:</span><span class="token string">'太原'</span><span class="token punctuation">,</span> <span class="token string">'陕西省'</span><span class="token punctuation">:</span><span class="token string">'西安'</span><span class="token punctuation">,</span> <span class="token string">'山东省'</span><span class="token punctuation">:</span><span class="token string">'济南'</span><span class="token punctuation">,</span> 
            <span class="token string">'河南省'</span><span class="token punctuation">:</span><span class="token string">'郑州'</span><span class="token punctuation">,</span> <span class="token string">'辽宁省'</span><span class="token punctuation">:</span><span class="token string">'沈阳'</span><span class="token punctuation">,</span> <span class="token string">'吉林省'</span><span class="token punctuation">:</span><span class="token string">'长春'</span><span class="token punctuation">,</span> <span class="token string">'黑龙江省'</span><span class="token punctuation">:</span><span class="token string">'哈尔滨'</span><span class="token punctuation">,</span>
            <span class="token string">'江苏省'</span><span class="token punctuation">:</span><span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'浙江省'</span><span class="token punctuation">:</span><span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'安徽省'</span><span class="token punctuation">:</span><span class="token string">'合肥'</span><span class="token punctuation">,</span> <span class="token string">'江西省'</span><span class="token punctuation">:</span><span class="token string">'南昌'</span><span class="token punctuation">,</span> 
            <span class="token string">'福建省'</span><span class="token punctuation">:</span><span class="token string">'福州'</span><span class="token punctuation">,</span> <span class="token string">'湖北省'</span><span class="token punctuation">:</span><span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'湖南省'</span><span class="token punctuation">:</span><span class="token string">'长沙'</span><span class="token punctuation">,</span> <span class="token string">'四川省'</span><span class="token punctuation">:</span><span class="token string">'成都'</span><span class="token punctuation">,</span> 
            <span class="token string">'贵州省'</span><span class="token punctuation">:</span><span class="token string">'贵阳'</span><span class="token punctuation">,</span> <span class="token string">'云南省'</span><span class="token punctuation">:</span><span class="token string">'昆明'</span><span class="token punctuation">,</span> <span class="token string">'广东省'</span><span class="token punctuation">:</span><span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'海南省'</span><span class="token punctuation">:</span><span class="token string">'海口'</span><span class="token punctuation">,</span> 
            <span class="token string">'甘肃省'</span><span class="token punctuation">:</span><span class="token string">'兰州'</span><span class="token punctuation">,</span> <span class="token string">'青海省'</span><span class="token punctuation">:</span><span class="token string">'西宁'</span><span class="token punctuation">,</span> <span class="token string">'台湾省'</span><span class="token punctuation">:</span><span class="token string">'台北'</span><span class="token punctuation">,</span> <span class="token string">'内蒙古自治区'</span><span class="token punctuation">:</span><span class="token string">'呼和浩特'</span><span class="token punctuation">,</span> 
            <span class="token string">'新疆维吾尔自治区'</span><span class="token punctuation">:</span><span class="token string">'乌鲁木齐'</span><span class="token punctuation">,</span> <span class="token string">'西藏自治区'</span><span class="token punctuation">:</span><span class="token string">'拉萨'</span><span class="token punctuation">,</span> <span class="token string">'广西壮族自治区'</span><span class="token punctuation">:</span><span class="token string">'南宁'</span><span class="token punctuation">,</span> 
            <span class="token string">'宁夏回族自治区'</span><span class="token punctuation">:</span><span class="token string">'银川'</span><span class="token punctuation">,</span> <span class="token string">'香港特别行政区'</span><span class="token punctuation">:</span><span class="token string">'香港'</span><span class="token punctuation">,</span> <span class="token string">'澳门特别行政区'</span><span class="token punctuation">:</span><span class="token string">'澳门'</span><span class="token punctuation">}</span>

provinces <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">generate_options</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># generate_options函数，根据输入的省份编号index，生成对应的答案选项。</span>

    <span class="token comment"># 1. 从capitals中获取index这个编号对应的省份的省会名字，存到right_answer变量中。</span>
    right_answer <span class="token operator">=</span> capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>

    <span class="token comment"># 2. 从capitals中获取所有城市名字，并剔除正确的答案，构建错误省会名组成的列表，</span>
    <span class="token comment"># 存到变量wrong_answer中。</span>
    wrong_answer <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>capitals<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">del</span> wrong_answer<span class="token punctuation">[</span>index<span class="token punctuation">]</span>

    <span class="token comment"># 3. 从wrong_answer中随机挑选3个名字，并与right_answer一同组成由4个元素组成的选项</span>
    wrong_answer <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>wrong_answer<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    current_options <span class="token operator">=</span> <span class="token punctuation">[</span>right_answer<span class="token punctuation">]</span> <span class="token operator">+</span> wrong_answer

    <span class="token comment"># 将选项打乱</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>current_options<span class="token punctuation">)</span>

    <span class="token comment"># 用列表结构返回第index个省的答案选项</span>
    <span class="token keyword">return</span> current_options

<span class="token keyword">def</span> <span class="token function">generate_paper</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">:</span>
    options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>capitals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 根据编号i，创建每道题的选项，并把选项列表添加到options中</span>
        option <span class="token operator">=</span> generate_options<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        options<span class="token punctuation">.</span>append<span class="token punctuation">(</span>option<span class="token punctuation">)</span>

    <span class="token comment"># 生成试卷，写到文件./tmp/试卷_index.txt中</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./tmp/试卷_{}.txt'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}的省会是哪里？\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}. {}\n'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>

    <span class="token comment"># 生成答案，写到文件./tmp/答案_index.txt中</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./tmp/答案_{}.txt'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{}.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{} '</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">[</span>options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span>capitals<span class="token punctuation">[</span>provinces<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
<span class="token comment"># TODO，生成30份试卷</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这一定难不倒你，答案非常简单：</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token comment"># TODO，生成30份试卷</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    generate_paper<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你想为更多的学生生成试卷，所作的操作就是改一下上面这个循环条件的数字，繁琐的试卷和答案生成工作，计算机都为你代劳了。</p>
<h1 id="_4-本关总结" tabindex="-1"><a class="header-anchor" href="#_4-本关总结" aria-hidden="true">#</a> 4. 本关总结</h1>
<p>在办公自动化课程的第一关中，使用一个试卷生成案例，我们共同体验了在一个看似繁琐的场景中，如何将需求进行抽象，使用 Python 指挥计算机完成重复劳动的过程。</p>
<p>本关并没有使用太多 Python 基础以外的附加功能，旨在让你体会到，办公自动化并不是使用种类繁多花样百出的工具完成特别高大上的工作。</p>
<p>它需要我们立足实际的业务需求，在详细分析业务的处理流程之后，使用最合适的方法快速搞定任务。</p>
<p>本关使用的主要 Python 知识包括：循环（这是让计算机解决繁琐任务常借助的工具）、列表、随机处理包 random、文件处理。</p>
<p>在之后持续深入的自动化课程内容中，这些基本的处理方法也依然会时常出现。</p>
<p>将本关的知识要点做个简单总结，如以下框图所示。别忘了，还有课后练习等着你。</p>
<p><img src="https://gitee.com/huangjiabaoaiyc/image/raw/master/202112091012576.png" alt=""></p>
<p><img src="https://gitee.com/huangjiabaoaiyc/image/raw/master/202112091015678.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>流沙团队推出辅导班啦，包括「Python 语言辅导班、C++ 辅导班、java 辅导班、算法/数据结构辅导班、少儿编程、pygame 游戏开发」，全部都是一对一教学：一对一辅导 + 一对一答疑 + 布置作业 + 项目实践等。当然，还有线下线上摄影课程、Photoshop、Premiere 一对一教学、QQ、微信在线，随时响应！</p>
<p>方法一：<a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1432803776&amp;site=qq&amp;menu=yes" target="_blank" rel="noopener noreferrer">QQ<ExternalLinkIcon/></a></p>
<p>方法二：微信：Jiabcdefh</p>
</blockquote>
</div></template>
